* expand-file-name
;;connection must be open
(find-file "/hdfs:root@node-1:/")
(find-file "/hdfs:rgautam@node-1:/")
(expand-file-name "/hdfs:root@node-1:~/tmp" nil)
(expand-file-name "/hdfs:root@node-1:/tmp" nil)
(expand-file-name "/hdfs:root@node-1:~/tmp/." nil)
(expand-file-name "/hdfs:root@node-1:~/tmp/.." nil)

(progn (tramp-cleanup-all-connections) (tramp-cleanup-all-buffers))
(expand-file-name "/hdfs:root@ec2-54-152-33-90.compute-1.amazonaws.com:" nil)

/hdfs:root@ec2-54-152-33-90.compute-1.amazonaws.com:/tmp/id.out/part-m-00000
/sshx:root@ec2-54-152-33-90.compute-1.amazonaws.com:/grid/0/hadoopqe/artifacts/output.log

/hdfs:root@ec2-54-152-33-90.compute-1.amazonaws.com:/user/oozie

* tramp-hdfs-handle-directory-files
(tramp-hdfs-handle-directory-files "/hdfs:root@node-1:/")

* file-directory-p
(file-directory-p "/hdfs:root@node-1:/tmp/id.out/_SUCCESS")
(file-directory-p "/hdfs:root@node-1:/tmp/id.out")
(file-directory-p "/ssh:root@node-1:/tmp")

* file-attributes
(file-attributes "/ssh:root@node-1:/tmp")  (t 59 0 0 (21676 37000) (21677 16788) (21677 16788) 4096 "drwxrwxrwt" nil (32 . 1) (-1 . 7))
(file-attributes "/hdfs:root@node-1:/tmp") (t 0 "hdfs" "hdfs" (0 0) (21676 38624) (0 0) 0 "drwxrwxrwx" nil nil (-1 . 6))

(progn (tramp-cleanup-all-connections) (tramp-cleanup-all-buffers) (file-attributes "/hdfs:root@node-1:/tmp/"))
(file-attributes "/ssh:root@node-1:/non-existing")
(file-attributes "/hdfs:root@node-1:/non-existing")

* tramp-hdfs-handle-file-name-all-completions
This function should return "foo/" for directories and "bar" for files.
(tramp-hdfs-handle-file-name-all-completions "" "/hdfs:root@node-1:/tmp")
(tramp-sh-handle-file-name-all-completions "" "/ssh:root@node-1:/")

* tramp-hdfs-handle-file-writable-p
(file-writable-p "/tmp")
(file-writable-p "/hdfs:root@node-1:/tmp/id.out/_SUCCESS")
(file-writable-p "/hdfs:root@node-1:/tmp/")
(file-writable-p "/hdfs:root@node-1:/non-existing/")

* tramp-hdfs-handle-insert-directory
look at tramp-hdfs-read-file-entry for parsing

(find-file "/hdfs:root@node-1:/tmp/")
(find-file "/hdfs:node-1:/user/")
(tramp-hdfs-handle-insert-directory "/hdfs:node-1:/" "--dired -al" nil t)

* big-file-warning
(tramp-hdfs-use-tail-p 1023)
(tramp-hdfs-use-tail-p (* 1025 1024))
(tramp-hdfs-use-tail-p (* 1025 1024 1024))
(tramp-hdfs-use-tail-p (* 1025 1024 1024))

(let ((hdfs-bigfile-threshold 100))
  (find-file "/hdfs:root@node-1:/tmp/id.out/part-m-00000"))

* tramp-hdfs-maybe-open-connection
;;hacked path
;;(tramp-hdfs-maybe-open-connection ["hdfs" "root" "node-1" "/" nil])
;;(tramp-maybe-open-connection ["hdfs" "root" "node-1" "/" nil])

* tramp-hdfs-send-command
(tramp-hdfs-send-command ["hdfs" "root" "node-1" "/" nil] "hdfs dfs -ls /")

* tramp-hdfs-get-file-entries
;;TODO add caching for performance improvement
;; Share names of a host are cached. It is very unlikely that the
;; shares do change during connection.
(tramp-hdfs-get-file-entries "/hdfs:root@node-1:/user")

* Misc
  file:/hdfs:root@node-1:/tmp/
  
